CREATE TABLE `comments` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `ticket_id` int(11) NOT NULL,
  `created_time` datetime NOT NULL,
  `edited_date` datetime NOT NULL,
  `comment` text,
  `added_by_id` int(10) unsigned NOT NULL,
  PRIMARY KEY (`id`),
  KEY `ticket_id` (`ticket_id`),
  CONSTRAINT `comments_ibfk_1` FOREIGN KEY (`ticket_id`) REFERENCES `tickets` (`id`) ON DELETE NO ACTION
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=utf8

CREATE TABLE `users` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(255) NOT NULL,
  `email` varchar(255) NOT NULL,
  `password` varchar(32) NOT NULL,
  `user_type_id` int(11) NOT NULL,
  `permission_type_id` int(11) NOT NULL DEFAULT '1',
  PRIMARY KEY (`id`),
  UNIQUE KEY `name` (`name`),
  KEY `fk_user_type_id` (`user_type_id`),
  KEY `fk_permission_type_id` (`permission_type_id`),
  CONSTRAINT `fk_permission_type_id` FOREIGN KEY (`permission_type_id`) REFERENCES `user_permission_types` (`id`) ON DELETE NO ACTION,
  CONSTRAINT `fk_user_type_id` FOREIGN KEY (`user_type_id`) REFERENCES `user_types` (`id`) ON DELETE NO ACTION
) ENGINE=InnoDB AUTO_INCREMENT=13 DEFAULT CHARSET=utf8

16:44:22	ALTER TABLE comments ADD CONSTRAINT fk_added_by_id FOREIGN KEY (added_by_id) references users (id) ON DELETE NO ACTION	Error Code: 1005. Can't create table 'ticket_tracker.#sql-3ee_28' (errno: 150)	0.083 sec
Error Code: 1452. Cannot add or update a child row: a foreign key constraint fails (`ticket_tracker`.`#sql-3ee_28`, CONSTRAINT `fk_added_by_id` FOREIGN KEY (`added_by_id`) REFERENCES `users` (`id`) ON DELETE NO ACTION)
